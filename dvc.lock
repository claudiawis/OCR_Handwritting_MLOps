schema: '2.0'
stages:
  extract_data:
    cmd: python src/data/extract_raw_data.py
    deps:
    - path: data/raw/raw_data.tar.gz
      hash: md5
      md5: b829b5192b30f62c8770837b5f44616c
      size: 4252862892
      isexec: true
    - path: src/data/extract_raw_data.py
      hash: md5
      md5: c44c67384b4393630aaec66d29e21b96
      size: 1657
      isexec: true
    outs:
    - path: data/raw/raw_data/data
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  load_dataset:
    cmd: python src/data/load_dataset.py
    deps:
    - path: data/raw/raw_data/data
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: src/data/load_dataset.py
      hash: md5
      md5: 4e3de6055c7b0393b4677915196d9e15
      size: 2673
      isexec: true
    outs:
    - path: data/raw/words.csv
      hash: md5
      md5: 83aacd67b31e17cb7264483a602c800c
      size: 12638385
      isexec: true
  load_data:
    cmd: python src/data/filter_data.py
    deps:
    - path: data/raw/words.csv
      hash: md5
      md5: 83aacd67b31e17cb7264483a602c800c
      size: 12638385
    - path: src/data/filter_data.py
      hash: md5
      md5: e7b38ef73e9a05b079c9f0fe78ae7d07
      size: 1281
    outs:
    - path: data/processed/filtered_data.csv
      hash: md5
      md5: 2dc75802f376758c9f8ff593fae2709a
      size: 719143
  filter_data:
    cmd: python src/data/filter_data.py
    deps:
    - path: data/raw/words.csv
      hash: md5
      md5: 83aacd67b31e17cb7264483a602c800c
      size: 12638385
      isexec: true
    - path: src/data/filter_data.py
      hash: md5
      md5: 0884fa4ceed28cd2ca6e18fcc49ca7f3
      size: 2108
      isexec: true
    outs:
    - path: data/processed/filtered_data.csv
      hash: md5
      md5: 2dc75802f376758c9f8ff593fae2709a
      size: 719143
      isexec: true
  clean_data:
    cmd: python src/data/clean_data.py
    deps:
    - path: data/processed/filtered_data.csv
      hash: md5
      md5: 2dc75802f376758c9f8ff593fae2709a
      size: 719143
      isexec: true
    - path: src/data/clean_data.py
      hash: md5
      md5: df61322ccd53ebd10c4beefd61e68c80
      size: 2323
      isexec: true
    outs:
    - path: data/processed/cleaned_data.csv
      hash: md5
      md5: 0f40a569b05eeaac6bf144b3d9ab7a83
      size: 291380
      isexec: true
  encode_data:
    cmd: python src/data/encode_data.py
    deps:
    - path: data/processed/cleaned_data.csv
      hash: md5
      md5: 0f40a569b05eeaac6bf144b3d9ab7a83
      size: 291380
      isexec: true
    - path: src/data/encode_data.py
      hash: md5
      md5: a0518bbfe907e4139ea6d772815a0573
      size: 1023
      isexec: true
    outs:
    - path: data/processed/encoded_data.csv
      hash: md5
      md5: 5c1b3f7d225bdad4fb25552837395833
      size: 298046
      isexec: true
  prepare_features:
    cmd: python src/data/prepare_features.py
    deps:
    - path: data/processed/encoded_data.csv
      hash: md5
      md5: 5c1b3f7d225bdad4fb25552837395833
      size: 298046
      isexec: true
    - path: src/data/prepare_features.py
      hash: md5
      md5: c107930be6365c53a5d56c56e07f63de
      size: 2068
      isexec: true
    outs:
    - path: data/processed/features.npy
      hash: md5
      md5: 8e0ac2041649313567d4481236ff4c05
      size: 16802816
      isexec: true
    - path: data/processed/labels.npy
      hash: md5
      md5: 27867d9a998088c637c4ecba042f37bf
      size: 21560
      isexec: true
  split_data:
    cmd: python src/data/split_data.py
    deps:
    - path: data/processed/features.npy
      hash: md5
      md5: 8e0ac2041649313567d4481236ff4c05
      size: 16802816
      isexec: true
    - path: data/processed/labels.npy
      hash: md5
      md5: 27867d9a998088c637c4ecba042f37bf
      size: 21560
      isexec: true
    - path: src/data/split_data.py
      hash: md5
      md5: 16b42890c754490f415c98e06506a082
      size: 951
      isexec: true
    outs:
    - path: data/processed/X_test.npy
      hash: md5
      md5: 137464516553b329c0d47870f22c7429
      size: 3361920
      isexec: true
    - path: data/processed/X_train.npy
      hash: md5
      md5: dc53c15118eb9ba06db9a00e965d3c69
      size: 13441024
      isexec: true
    - path: data/processed/Y_test.npy
      hash: md5
      md5: 8812e20b83a8725ced9d9f9e80b3aae9
      size: 4416
      isexec: true
    - path: data/processed/Y_train.npy
      hash: md5
      md5: 7a90df12370a514f50cd7387853f1feb
      size: 17272
      isexec: true
  reshape_data:
    cmd: python src/data/reshape_data.py
    deps:
    - path: data/processed/X_test.npy
      hash: md5
      md5: 137464516553b329c0d47870f22c7429
      size: 3361920
      isexec: true
    - path: data/processed/X_train.npy
      hash: md5
      md5: dc53c15118eb9ba06db9a00e965d3c69
      size: 13441024
      isexec: true
    - path: src/data/reshape_data.py
      hash: md5
      md5: bfa956cf133dd82cb532ac69953328ff
      size: 1211
      isexec: true
    outs:
    - path: data/processed/X_test_reshaped.npy
      hash: md5
      md5: 5247bf374d82c3e827e2d59d34619d0c
      size: 3361920
      isexec: true
    - path: data/processed/X_train_reshaped.npy
      hash: md5
      md5: 2c6ae84e0e026bfe54b877e8cb2a4346
      size: 13441024
      isexec: true
  calculate_class_weights:
    cmd: python src/data/calculate_class_weights.py
    deps:
    - path: data/processed/Y_train.npy
      hash: md5
      md5: 7a90df12370a514f50cd7387853f1feb
      size: 17272
      isexec: true
    - path: src/data/calculate_class_weights.py
      hash: md5
      md5: 1b602f3971180dc2093d36a569f754d4
      size: 1184
      isexec: true
    outs:
    - path: data/processed/class_weights.npy
      hash: md5
      md5: 7adeed5e291a93a080164810c0dfb1d6
      size: 839
      isexec: true
  one_hot_encode_labels:
    cmd: python src/data/one_hot_encode_labels.py
    deps:
    - path: data/processed/Y_test.npy
      hash: md5
      md5: 8812e20b83a8725ced9d9f9e80b3aae9
      size: 4416
      isexec: true
    - path: data/processed/Y_train.npy
      hash: md5
      md5: 7a90df12370a514f50cd7387853f1feb
      size: 17272
      isexec: true
    - path: src/data/one_hot_encode_labels.py
      hash: md5
      md5: b3de75f914195449c84d40bf978cd608
      size: 1574
      isexec: true
    outs:
    - path: data/processed/y_test_one_hot.npy
      hash: md5
      md5: 34c27a2341b30ad021aa5d5da2c3456c
      size: 85888
      isexec: true
    - path: data/processed/y_train_one_hot.npy
      hash: md5
      md5: 6cf2f518a87f932cd7df4f9b6270ab63
      size: 343008
      isexec: true
  setup_callbacks:
    cmd: python src/models/setup_callbacks.py
    deps:
    - path: src/models/setup_callbacks.py
      hash: md5
      md5: 36f73d7c3a487f6ed9b43240b1b94ca4
      size: 2070
      isexec: true
    outs:
    - path: models/callbacks.keras
      hash: md5
      md5: d5b4a474134e3f6ffb93872da5628926
      size: 605
      isexec: true
  build_model:
    cmd: python src/models/build_cnn.py
    deps:
    - path: src/models/build_cnn.py
      hash: md5
      md5: 4a9355a1dd2c94d052babb98b825d6ee
      size: 2579
  build_train_cnn:
    cmd: python src/models/build_train_cnn.py
    deps:
    - path: data/processed/X_test_reshaped.npy
      hash: md5
      md5: 5247bf374d82c3e827e2d59d34619d0c
      size: 3361920
      isexec: true
    - path: data/processed/X_train_reshaped.npy
      hash: md5
      md5: 2c6ae84e0e026bfe54b877e8cb2a4346
      size: 13441024
      isexec: true
    - path: data/processed/class_weights.npy
      hash: md5
      md5: 7adeed5e291a93a080164810c0dfb1d6
      size: 839
      isexec: true
    - path: data/processed/y_test_one_hot.npy
      hash: md5
      md5: 34c27a2341b30ad021aa5d5da2c3456c
      size: 85888
      isexec: true
    - path: data/processed/y_train_one_hot.npy
      hash: md5
      md5: 6cf2f518a87f932cd7df4f9b6270ab63
      size: 343008
      isexec: true
    - path: models/callbacks.keras
      hash: md5
      md5: d5b4a474134e3f6ffb93872da5628926
      size: 605
      isexec: true
    - path: src/models/build_train_cnn.py
      hash: md5
      md5: 0de116f85bc745bc050ba9bdf3c57903
      size: 5190
      isexec: true
    outs:
    - path: metrics/training_accuracy.png
      hash: md5
      md5: d20cbc54428f688af088727cd699341b
      size: 41220
      isexec: true
    - path: models/CNN.keras
      hash: md5
      md5: 36dd3ba453919ee07efd96d582d6e087
      size: 7155170
      isexec: true
    - path: models/model_architecture_summary.txt
      hash: md5
      md5: 09e4946c7d6931f32fb3c7b013b84c2c
      size: 3286
      isexec: true
  evaluate_model:
    cmd: python src/models/evaluate_model.py
    deps:
    - path: data/processed/X_test_reshaped.npy
      hash: md5
      md5: 5247bf374d82c3e827e2d59d34619d0c
      size: 3361920
      isexec: true
    - path: data/processed/y_test_one_hot.npy
      hash: md5
      md5: 34c27a2341b30ad021aa5d5da2c3456c
      size: 85888
      isexec: true
    - path: models/CNN.keras
      hash: md5
      md5: 36dd3ba453919ee07efd96d582d6e087
      size: 7155170
      isexec: true
    - path: src/models/evaluate_model.py
      hash: md5
      md5: c005e8b84d56d3d4385b23821a357324
      size: 1376
      isexec: true
    outs:
    - path: metrics/confusion_matrix.png
      hash: md5
      md5: 1267f572c31d7138bd227c54dcd79cb4
      size: 51690
      isexec: true
